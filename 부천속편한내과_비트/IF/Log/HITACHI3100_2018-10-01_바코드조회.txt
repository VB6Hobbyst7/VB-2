SELECT DISTINCT        SUBSTRING(O.OCMACPDTM,1,8)  AS HOSPDATE      , R.RESOCMNUM                 AS BARCODE       , O.OCMCHTNUM                 AS CHARTNO       , R.RESOCMNUM                 AS PID           , P.PBSPATNAM                 AS PNAME         , P.PBSSEXTYP                 AS SEX           , R.RESLABCOD                 AS ITEM          , R.ResOdrSeq , R.ResSeq  , R.ResSubSeq      FROM DRBITPACK..RESINF AS R, DRBITPACK..OCMINF AS O, DRBITPACK..PBSINF AS P, DRBITPACK..LABMST AS E, DRBITPACK..ODRINF AS W WHERE O.OCMACPDTM BETWEEN '20181001000000' AND '20181001235959'
   AND LTRIM(O.OCMCHTNUM) = '10989'      AND LTRIM(R.RESOCMNUM) = '431966'      AND O.OCMCOMSTT NOT IN ('CN', 'CR', 'VC')          AND R.RESLABCOD IN ('B2570','L6','B2580','L7','L5','B2710','L8','L1','L0','L2','C3750','L11','L10','C2411','C2443','L16','C2420','L15','C3711','L9','c243','c2430','C2430-1','L4-1','L3-1','L35-1','HBA1C01','HBA1C02','HBA1C03')            AND R.RESOCMNUM = O.OCMNUM                         AND O.OCMCHTNUM = P.PBSCHTNUM                      AND R.RESOCMNUM = W.ODROCMNUM                      AND R.RESLABCOD = W.ODRCOD                         AND R.RESLABCOD = E.LABCOD                         AND (R.RESREPTYP IS NULL OR R.RESREPTYP <> 'F')    AND W.ODRDELFLG = 'N'                              AND (R.RESRLTVAL = ''  OR R.RESRLTVAL IS NULL)   ORDER BY HOSPDATE, CHARTNO, PID
