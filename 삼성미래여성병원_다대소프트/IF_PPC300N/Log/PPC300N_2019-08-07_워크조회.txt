SELECT DISTINCT        J.접수일자          AS HOSPDATE                         
     , L.검체번호          AS BARCODE                          
     , A.챠트번호          AS CHARTNO                          
     , J.접수번호          AS PID                              
     , A.환자이름          AS PNAME                            
     , A.환자성별          AS SEX                              
     , A.환자나이          AS AGE                              
     , COUNT(L.처방코드)   AS CNT                              
  FROM         TB_진료검사 L                                   
   INNER JOIN  TB_진료지원 J ON (L.진료지원ID = J.진료지원ID)  
   INNER JOIN  TB_진료일반 A ON (J.진료일자   = A.진료일자     
                            AND  J.챠트번호   = A.챠트번호     
                            AND  J.진료번호   = A.진료번호)    
 Where J.접수일자 BETWEEN '2019-06-07' and '2019-08-07'    
   AND L.검사상태 < 5                                          
   AND L.처방코드 + L.서브코드 IN ('D1860','D1850','D1870','D2263','D2611','D2300','D2280','D1840','D1880','D3022','D3022A01','D3022B01','D3022B02','D3022B03','D3022B04')         
 GROUP BY J.접수일자, L.검체번호, A.챠트번호, J.접수번호, A.환자이름, A.환자성별, A.환자나이 

